!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.function.bind.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.array.join.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.slice.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.array.iterator.js","core-js/modules/es.map.js","core-js/modules/es.object.to-string.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","core-js/modules/es.function.bind.js","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.match.js","core-js/modules/es.string.replace.js","core-js/modules/es.array.join.js","core-js/modules/es.string.split.js","core-js/modules/es.array.slice.js"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["sse-client"]={})}(this,(function(e){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}};!function(e){var s,t;s=o,t=function(){function e(e){var r=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var s=e.shift();e[0]=s+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var t=0;t<e.length;t++){var o=e[t];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(t>0&&(o=o.replace(/^[\/]+/,"")),o=t<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),r.push(o))}var n=r.join("/"),i=(n=n.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return n=i.shift()+(i.length>0?"?":"")+i.join("&")}return function(){return e("object"===r(arguments[0])?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=t():s.urljoin=t()}(n);var i=n.exports,l=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.path,o=void 0===t?"/sse":t,n=r.channel,l=void 0===n?"hello":n;s(this,e),this.events=new Map;var u=i(o,l);this.eventSource=new EventSource(u),this.channel=l,this.eventSource.addEventListener("open",this.onOpen.bind(this)),this.eventSource.addEventListener("error",this.onError.bind(this)),this.eventSource.addEventListener("close",this.onClose.bind(this))}var r,o,n;return r=e,(o=[{key:"onOpen",value:function(e){}},{key:"onError",value:function(e){}},{key:"onClose",value:function(e){this.eventSource.close(),this.eventSource=null}},{key:"addEventListener",value:function(e,r){var s=function(e){var s=e.type,t=JSON.parse(e.data);r({type:s,data:t})};this.removeEventListener(e),this.events.set(e,s),this.eventSource.addEventListener(e,s)}},{key:"removeEventListener",value:function(e){var r=this.events.get(e);r&&(this.events.delete(e),this.eventSource.removeEventListener(e,r))}}])&&t(r.prototype,o),n&&t(r,n),e}(),u=l;e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=client.umd.js.map
