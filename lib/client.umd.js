!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.function.bind.js"),require("core-js/modules/es.math.clz32.js"),require("crypto"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.array.join.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.slice.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.array.iterator.js","core-js/modules/es.map.js","core-js/modules/es.object.to-string.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","core-js/modules/es.function.bind.js","core-js/modules/es.math.clz32.js","crypto","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.match.js","core-js/modules/es.string.replace.js","core-js/modules/es.array.join.js","core-js/modules/es.string.split.js","core-js/modules/es.array.slice.js"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["sse-client"]={},null,null,null,null,null,null,null,e.crypto)}(this,(function(e,r,t,s,o,n,i,l,u){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=c(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function j(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p,v,m="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y=function(e){!p||p.length<e?(p=Buffer.allocUnsafe(32*e),a.default.randomFillSync(p),v=0):v+e>p.length&&(a.default.randomFillSync(p),v=0);var r=p.subarray(v,v+e);return v+=e,r},h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,r=y(e),t="";e--;)t+=m[63&r[e]];return t},g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var b=function(e){var r={exports:{}};return e(r,r.exports),r.exports}((function(e){var r,t;r=g,t=function(){function e(e){var r=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var t=e.shift();e[0]=t+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var s=0;s<e.length;s++){var o=e[s];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(s>0&&(o=o.replace(/^[\/]+/,"")),o=s<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),r.push(o))}var n=r.join("/"),i=(n=n.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return n=i.shift()+(i.length>0?"?":"")+i.join("&")}return function(){return e("object"===d(arguments[0])?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=t():r.urljoin=t()})),S=h,w=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/sse",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S();f(this,e),this.events=new Map;var s=b(r,t);this.eventSource=new EventSource(s),this.key=t,this.eventSource.addEventListener("open",this.onOpen.bind(this)),this.eventSource.addEventListener("error",this.onError.bind(this)),this.eventSource.addEventListener("close",this.onClose.bind(this))}var r,t,s;return r=e,(t=[{key:"headers",get:function(){return{"sse-key-e5b6a1db":this.key}}},{key:"onOpen",value:function(e){}},{key:"onError",value:function(e){}},{key:"onClose",value:function(e){this.eventSource.close(),this.eventSource=null}},{key:"addEventListener",value:function(e,r){var t=function(e){var t=e.type,s=JSON.parse(e.data);r({type:t,data:s})};this.removeEventListener(e),this.events.set(e,t),this.eventSource.addEventListener(e,t)}},{key:"removeEventListener",value:function(e){var r=this.events.get(e);r&&(this.events.delete(e),this.eventSource.removeEventListener(e,r))}}])&&j(r.prototype,t),s&&j(r,s),e}();e.default=w,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=client.umd.js.map
